{"version":3,"sources":["webpack:///src/views/IndexData/PersonnelIndexData/components/demandJob.vue","webpack:///./src/views/IndexData/PersonnelIndexData/components/demandJob.vue?6ca0","webpack:///./src/views/IndexData/PersonnelIndexData/components/demandJob.vue"],"names":["demandJob","components","NavTemplent","TablePage","data","page","pageSize","pageNum","userList","editUse","title","dialogVisible","indicatorsList","departmentList","quotaMessage","total","form","userId","finish","type","desc","chooseDate","moment_default","valueOf","format","date","department_id","departmentId","jobName","jobNum","status","methods","getJobNeedsList","_this","this","startTime","$root","$options","filters","dateFormat","lastTime","$post","complete","start_time","end_time","then","res","list","count","getUserList","_this2","filter","item","department_name","updateSize","val","getindicatorsList","updateNum","getDepartmentList","_this3","catch","err","$message","error","editJobMessage","quota_id","quota_name","quota_desc","delJobMessage","_this4","$confirm","confirmButtonText","cancelButtonText","job_needs_id","success","message","cancle","$emit","save","_this5","job_name","people","task_user","mounted","components_demandJob","render","_vm","_h","$createElement","_c","_self","attrs","_v","staticStyle","padding","font-weight","margin-top","label-width","inline","size","nativeOn","submit","$event","preventDefault","label","placeholder","on","change","model","value","callback","$$v","$set","expression","_l","key","width","start-placeholder","end-placeholder","staticClass","_m","float","text-align","click","border","scopedSlots","_u","fn","scope","_s","row","manager_user_id","_f","complete_nums","color","update:pageSize","update:pageNum","visible","update:visible","id","name","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/35.5d41cde3f3dcdeb01e37.js","sourcesContent":["<template>\n  <div>\n    <NavTemplent title=\"需求岗位管理\"></NavTemplent>\n    <div style=\"padding: 15px 10% 15px 15px;\">\n      <div>\n        <h5 style=\"font-weight: bold\">数据筛选</h5>\n        <el-form style=\"margin-top: 15px\" label-width=\"80px\" inline @submit.native.prevent size=\"mini\">\n          <el-form-item label=\"部门\">\n            <el-select v-model=\"form.departmentId\" placeholder=\"请选择部门\" @change=\"getJobNeedsList\">\n              <el-option v-for=\"item in departmentList\" :key=\"item.department_id\" :value=\"item.department_id\" :label=\"item.department_name\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"类型\">\n            <el-select v-model=\"form.type\" placeholder=\"请选择查询类型\" @change=\"getJobNeedsList\">\n              <el-option label=\"全部\" :value=\"1\"></el-option>\n              <el-option label=\"个人\" :value=\"2\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"是否完成\">\n            <el-select v-model=\"form.finish\" placeholder=\"请选择查询类型\" @change=\"getJobNeedsList\">\n              <el-option label=\"完成\" :value=\"1\"></el-option>\n              <el-option label=\"未完成\" :value=\"0\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"选择时间\">\n            <el-date-picker\n              @change=\"getJobNeedsList\"\n              style=\"width: 250px\"\n              size=\"mini\"\n              v-model=\"form.chooseDate\"\n              type=\"daterange\"\n              format=\"yyyy/MM/dd\"\n              start-placeholder=\"开始日期\"\n              end-placeholder=\"结束日期\">\n            </el-date-picker>\n          </el-form-item>\n          <!--          <el-form-item>-->\n          <!--            <el-button type=\"primary\" @click=\"getindicatorsList\">-->\n          <!--              <i class=\"el-icon-search\"></i>-->\n          <!--              筛选</el-button>-->\n          <!--          </el-form-item>-->\n        </el-form>\n      </div>\n      <div class=\"tableTitle\">\n        <span style=\"width: 50%;float: left\">\n          <div>需求列表</div>\n        </span>\n        <span style=\"width: 50%;float: right;text-align: right\">\n          <el-button size=\"mini\" type=\"primary\" @click=\"editJobMessage\"><i class=\"el-icon-plus\"></i>添加</el-button>\n        </span>\n      </div>\n      <el-table\n        :data=\"indicatorsList\"\n        border\n        style=\"width: 100%\">\n        <el-table-column\n          type=\"index\">\n        </el-table-column>\n        <el-table-column\n          label=\"管理者\">\n          <template slot-scope=\"scope\">\n            <span>{{scope.row.manager_user_id || '--'}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"需求岗位\">\n          <template slot-scope=\"scope\">\n            <span>{{scope.row.job_name || '--'}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"需求人数\">\n          <template slot-scope=\"scope\">\n            <span>{{scope.row.people || '--'}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"岗位状态\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.status === 1\">开启</span>\n            <span v-else>关闭</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"岗位结束时间\">\n          <template slot-scope=\"scope\">\n            <span>{{scope.row.end_time * 1000 | format('YYYY/MM/DD')}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"完成数\">\n          <template slot-scope=\"scope\">\n            <span>{{scope.row.complete_nums}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-link @click=\"editJobMessage(scope.row)\" style=\"color:#409EFF\">编辑</el-link>\n            <el-link @click=\"delJobMessage(scope.row)\" style=\"color:#409EFF\">删除</el-link>\n          </template>\n        </el-table-column>\n      </el-table>\n      <TablePage :pageSize=\"page.pageNum\" :pageNum=\"page.pageSize\" :total=\"total\" @update:pageSize=\"updateSize\" @update:pageNum=\"updateNum\"></TablePage>\n      <el-dialog\n        :title=\"title\"\n        :visible.sync=\"dialogVisible\"\n        width=\"750px\">\n        <el-form size=\"mini\">\n          <el-form-item label=\"需求部门\">\n            <el-select v-model=\"form.department_id\" placeholder=\"请选择部门\">\n              <el-option v-for=\"item in departmentList\" :key=\"item.department_id\" :value=\"item.department_id\" :label=\"item.department_name\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"指派人员\">\n            <el-checkbox-group v-model=\"form.userId\">\n              <el-checkbox v-for=\"item in userList\" :label=\"item.name\" :value=\"item.id\" :key=\"item.id\"></el-checkbox>\n            </el-checkbox-group>\n          </el-form-item>\n          <el-form-item label=\"招聘岗位\">\n            <el-input v-model=\"form.jobName\" placeholder=\"请输入招聘岗位\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"需求人数\">\n            <el-input v-model=\"form.jobNum\" placeholder=\"请输入需求人数\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"岗位描述\">\n            <el-input placeholder=\"请输入岗位描述\" v-model=\"form.desc\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"状态\">\n            <el-switch v-model=\"form.status\"></el-switch>\n          </el-form-item>\n          <el-form-item label=\"选择开始结束时间\">\n            <el-date-picker\n              style=\"width: 250px\"\n              size=\"mini\"\n              v-model=\"form.date\"\n              type=\"daterange\"\n              format=\"yyyy/MM/dd\"\n              start-placeholder=\"开始日期\"\n              end-placeholder=\"结束日期\">\n            </el-date-picker>\n          </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button size=\"mini\" type=\"danger\" @click=\"cancle\">取 消</el-button>\n          <el-button size=\"mini\" type=\"primary\" @click=\"save\">确 定</el-button>\n        </div>\n      </el-dialog>\n    </div>\n  </div>\n</template>\n<script>\n    import moment from 'moment';\n    import NavTemplent from \"../../../../components/NavTemplent\";\n    import TablePage from \"../../../../components/TablePage\";\n    export default {\n        components: {\n            NavTemplent,\n            TablePage\n        },\n        data() {\n            return {\n                page: {\n                    pageSize: 1,\n                    pageNum: 50\n                },\n                userList: [],\n                editUse: null,\n                title: '需求岗位',\n                dialogVisible: false,\n                indicatorsList: [],\n                departmentList: [],\n                quotaMessage: null,\n                total: 0,\n                form: {\n                    userId: [],\n                    finish: 0,\n                    type: 1,\n                    desc: '',\n                    chooseDate: [moment(moment().valueOf() - 7 * 24 * 3600 * 1000).format('YYYY/MM/DD'), moment(moment() + 24 * 3600 * 1000).format('YYYY/MM/DD')],\n                    date: [moment(moment().valueOf() - 7 * 24 * 3600 * 1000).format('YYYY/MM/DD'), moment(moment() + 24 * 3600 * 1000).format('YYYY/MM/DD')],\n                    department_id: '',\n                    departmentId: '',\n                    jobName: '',\n                    jobNum: '',\n                    status: false\n                }\n            }\n        },\n        methods: {\n            getJobNeedsList() {\n            this.startTime = this.$root.$options.filters.dateFormat(this.form.chooseDate[0], 'YYYY/MM/DD');\n            this.lastTime = this.$root.$options.filters.dateFormat(this.form.chooseDate[1], 'YYYY/MM/DD');\n                this.$post('/getJobNeedsList', {\n                    complete: this.form.finish,\n                    type: this.form.type,\n                    department_id: this.form.departmentId,\n                    page: this.page.pageSize,\n                    pageNum: this.page.pageNum,\n                    start_time: this.startTime,\n                    end_time: this.lastTime\n                }).then(res => {\n                    this.indicatorsList = res.list;\n                    this.total = res.count;\n                })\n            },\n            getUserList() {\n                this.$post('getUserList', {\n                    page: this.page.pageSize,\n                    pageNum: 1000000\n                }).then(res => {\n                    this.userList = res.list.filter(item => {\n                        return item.department_name === '人事部'\n                    });\n                })\n            },\n            updateSize(val) {\n                this.page.pageSize = 1;\n                this.page.pageNum = val;\n                this.getindicatorsList();\n            },\n            updateNum(val) {\n                this.page.pageSize = val;\n                this.getindicatorsList();\n            },\n            getDepartmentList() {\n                this.$post('/getDepartmentList').then(res => {\n                    this.departmentList = res.list\n                }).catch(err => {\n                    this.$message.error(err)\n                });\n            },\n            editJobMessage(data) {\n                this.dialogVisible = true;\n                this.quotaMessage = data;\n                if (data.quota_id) {\n                    this.form = data;\n                } else {\n                    this.form.quota_name = '';\n                    this.form.quota_desc = '';\n                    this.form.department_id = '';\n                }\n            },\n            delJobMessage(data) {\n                this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    this.$post('delJobNeeds', {\n                      job_needs_id: data.job_needs_id\n                    }).then(() => {\n                        this.getJobNeedsList();\n                        this.$message.success('需求岗位删除成功')\n                    })\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });\n                });\n            },\n            cancle() {\n                this.dialogVisible = false;\n                this.$emit('close')\n            },\n            save() {\n                if (this.quotaMessage.quota_id) {\n                    this.form.quota_id = this.quotaMessage.quota_id;\n                    this.$post('editJobNeeds', this.form).then(() => {\n                        this.$message.success('修改新增成功');\n                        this.dialogVisible = false;\n                        this.$emit('close');\n                        this.getJobNeedsList();\n                    })\n                } else {\n                  this.startTime = this.$root.$options.filters.dateFormat(this.form.date[0], 'YYYY/MM/DD');\n                  this.lastTime = this.$root.$options.filters.dateFormat(this.form.date[1], 'YYYY/MM/DD');\n                    this.$post('addJobNeeds', {\n                      job_name: this.form.jobName,\n                      department_id: this.form.department_id,\n                      people: this.form.jobNum,\n                      desc: this.form.desc,\n                      task_user: this.form.userId,\n                      start_time: this.startTime,\n                      end_time: this.lastTime\n                    }).then(() => {\n                        this.$message.success('指标新增成功');\n                        this.dialogVisible = false;\n                        this.$emit('close');\n                        this.getJobNeedsList();\n                    });\n                }\n\n            }\n        },\n        mounted() {\n            this.getUserList();\n            this.getDepartmentList();\n            this.getJobNeedsList();\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n  .tableTitle{\n    height: 60px;\n    line-height: 60px;\n    padding: 0 15px;\n    background: #eee;\n    margin-bottom: 15px;\n    div{\n      font-weight: bolder;\n    }\n  }\n  .el-select{\n    width: 100%;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/IndexData/PersonnelIndexData/components/demandJob.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('NavTemplent',{attrs:{\"title\":\"需求岗位管理\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"padding\":\"15px 10% 15px 15px\"}},[_c('div',[_c('h5',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"数据筛选\")]),_vm._v(\" \"),_c('el-form',{staticStyle:{\"margin-top\":\"15px\"},attrs:{\"label-width\":\"80px\",\"inline\":\"\",\"size\":\"mini\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"部门\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择部门\"},on:{\"change\":_vm.getJobNeedsList},model:{value:(_vm.form.departmentId),callback:function ($$v) {_vm.$set(_vm.form, \"departmentId\", $$v)},expression:\"form.departmentId\"}},_vm._l((_vm.departmentList),function(item){return _c('el-option',{key:item.department_id,attrs:{\"value\":item.department_id,\"label\":item.department_name}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"类型\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择查询类型\"},on:{\"change\":_vm.getJobNeedsList},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},[_c('el-option',{attrs:{\"label\":\"全部\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"个人\",\"value\":2}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否完成\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择查询类型\"},on:{\"change\":_vm.getJobNeedsList},model:{value:(_vm.form.finish),callback:function ($$v) {_vm.$set(_vm.form, \"finish\", $$v)},expression:\"form.finish\"}},[_c('el-option',{attrs:{\"label\":\"完成\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"未完成\",\"value\":0}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"选择时间\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"250px\"},attrs:{\"size\":\"mini\",\"type\":\"daterange\",\"format\":\"yyyy/MM/dd\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},on:{\"change\":_vm.getJobNeedsList},model:{value:(_vm.form.chooseDate),callback:function ($$v) {_vm.$set(_vm.form, \"chooseDate\", $$v)},expression:\"form.chooseDate\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"tableTitle\"},[_vm._m(0),_vm._v(\" \"),_c('span',{staticStyle:{\"width\":\"50%\",\"float\":\"right\",\"text-align\":\"right\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.editJobMessage}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\"添加\")])],1)]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.indicatorsList,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"管理者\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.manager_user_id || '--'))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"需求岗位\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.job_name || '--'))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"需求人数\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.people || '--'))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"岗位状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status === 1)?_c('span',[_vm._v(\"开启\")]):_c('span',[_vm._v(\"关闭\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"岗位结束时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"format\")(scope.row.end_time * 1000,'YYYY/MM/DD')))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"完成数\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.complete_nums))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-link',{staticStyle:{\"color\":\"#409EFF\"},on:{\"click\":function($event){return _vm.editJobMessage(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-link',{staticStyle:{\"color\":\"#409EFF\"},on:{\"click\":function($event){return _vm.delJobMessage(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('TablePage',{attrs:{\"pageSize\":_vm.page.pageNum,\"pageNum\":_vm.page.pageSize,\"total\":_vm.total},on:{\"update:pageSize\":_vm.updateSize,\"update:pageNum\":_vm.updateNum}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"width\":\"750px\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{attrs:{\"size\":\"mini\"}},[_c('el-form-item',{attrs:{\"label\":\"需求部门\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择部门\"},model:{value:(_vm.form.department_id),callback:function ($$v) {_vm.$set(_vm.form, \"department_id\", $$v)},expression:\"form.department_id\"}},_vm._l((_vm.departmentList),function(item){return _c('el-option',{key:item.department_id,attrs:{\"value\":item.department_id,\"label\":item.department_name}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"指派人员\"}},[_c('el-checkbox-group',{model:{value:(_vm.form.userId),callback:function ($$v) {_vm.$set(_vm.form, \"userId\", $$v)},expression:\"form.userId\"}},_vm._l((_vm.userList),function(item){return _c('el-checkbox',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"招聘岗位\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入招聘岗位\"},model:{value:(_vm.form.jobName),callback:function ($$v) {_vm.$set(_vm.form, \"jobName\", $$v)},expression:\"form.jobName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"需求人数\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入需求人数\"},model:{value:(_vm.form.jobNum),callback:function ($$v) {_vm.$set(_vm.form, \"jobNum\", $$v)},expression:\"form.jobNum\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"岗位描述\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入岗位描述\"},model:{value:(_vm.form.desc),callback:function ($$v) {_vm.$set(_vm.form, \"desc\", $$v)},expression:\"form.desc\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\"}},[_c('el-switch',{model:{value:(_vm.form.status),callback:function ($$v) {_vm.$set(_vm.form, \"status\", $$v)},expression:\"form.status\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"选择开始结束时间\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"250px\"},attrs:{\"size\":\"mini\",\"type\":\"daterange\",\"format\":\"yyyy/MM/dd\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.form.date),callback:function ($$v) {_vm.$set(_vm.form, \"date\", $$v)},expression:\"form.date\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":_vm.cancle}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"确 定\")])],1)],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticStyle:{\"width\":\"50%\",\"float\":\"left\"}},[_c('div',[_vm._v(\"需求列表\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2d98521a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/IndexData/PersonnelIndexData/components/demandJob.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2d98521a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./demandJob.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./demandJob.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./demandJob.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2d98521a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./demandJob.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2d98521a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/IndexData/PersonnelIndexData/components/demandJob.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}