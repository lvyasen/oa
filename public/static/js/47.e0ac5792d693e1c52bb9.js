webpackJsonp([47],{UWR0:function(e,t){},"r/YD":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={components:{NavTemplent:i("15QY").a},data:function(){return{props:{label:"name",children:"zones"},updateMenu:null,count:1,editUse:null,title:"菜单信息",dialogVisible:!1,menuList:[],form:{desc:"",menu_name:"",pid:"",icon:"",url:""}}},methods:{getmenuList:function(){var e=this;this.$post("/getMenuList").then(function(t){e.menuList=t})},editUseMessage:function(e){this.dialogVisible=!0,this.updateMenu=e,e.menu_id?this.form=e:(this.form.menu_name="",this.form.desc="",this.form.pid="")},updateStatus:function(e){var t=this;this.$post("editMenuStatus",{menu_id:e.menu_id}).then(function(e){t.getmenuList(),t.$message.success("状态修改成功")})},cancle:function(){this.dialogVisible=!1,this.$emit("close")},save:function(){var e=this;""!==this.form.menu_name?""!==this.form.url?""!==this.form.icon?""!==this.form.pid?this.updateMenu.menu_id?this.$post("editMenu",{menu_name:this.form.menu_name,pid:this.form.pid,icon:this.form.icon,url:this.form.url,menu_id:this.updateMenu.menu_id,status:this.updateMenu.status}).then(function(t){e.$message.success("菜单修改成功"),e.dialogVisible=!1,e.$emit("close"),e.getmenuList()}):this.$post("addMenu",this.form).then(function(t){e.$message.success("菜单添加成功"),e.dialogVisible=!1,e.$emit("close"),e.getmenuList()}):this.$message.error("上级菜单不能为空"):this.$message.error("菜单图标不能为空"):this.$message.error("菜单地址不能为空"):this.$message.error("菜单名不能为空")},handleCheckChange:function(e,t,i){console.log(e,t,i)},handleNodeClick:function(e){console.log(e)}},mounted:function(){this.getmenuList()}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("NavTemplent",{attrs:{title:"菜单管理"}}),e._v(" "),i("div",{staticStyle:{padding:"15px 10% 15px 15px"}},[i("div",{staticClass:"tableTitle"},[e._m(0),e._v(" "),i("span",{staticStyle:{width:"50%",float:"right","text-align":"right"}},[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.editUseMessage}},[i("i",{staticClass:"el-icon-plus"}),e._v("添加")])],1)]),e._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{"row-key":"menu_id",border:"",lazy:"","tree-props":{children:"children",hasChildren:"hasChildren"},data:e.menuList}},[i("el-table-column",{attrs:{type:"index"}}),e._v(" "),i("el-table-column",{attrs:{label:"菜单名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.menu_name||"--"))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"菜单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ccc"},on:{change:function(i){return e.updateStatus(t.row)}},model:{value:!!t.row.status,callback:function(i){e.$set(!!t.row,"status",i)},expression:"!!scope.row.status"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(e._f("dateFormat")(1e3*t.row.add_time,"YYYY/MM/DD")))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-link",{staticStyle:{color:"#409EFF"},on:{click:function(i){return e.editUseMessage(t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,width:"750px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-form",{attrs:{size:"mini"}},[i("el-form-item",{attrs:{label:"菜单名称"}},[i("el-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.form.menu_name,callback:function(t){e.$set(e.form,"menu_name",t)},expression:"form.menu_name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"菜单描述"}},[i("el-input",{attrs:{type:"textarea",maxlength:"100",placeholder:"请输入角色描述"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"菜单图标"}},[i("el-input",{attrs:{placeholder:"请输入角色描述"},model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"菜单url"}},[i("el-input",{attrs:{placeholder:"请输入角色描述"},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"上级菜单"}},[i("el-select",{attrs:{placeholder:"请选择上级菜单"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},[i("el-option",{attrs:{label:"新增部门",value:0}}),e._v(" "),e._l(e.menuList,function(e){return i("el-option",{key:e.menu_id,attrs:{label:e.menu_name,value:e.menu_id}})})],2)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:e.cancle}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticStyle:{width:"50%",float:"left"}},[t("div",[this._v("菜单列表")])])}]};var l=i("VU/8")(s,n,!1,function(e){i("UWR0")},"data-v-055b7eea",null);t.default=l.exports}});
//# sourceMappingURL=47.e0ac5792d693e1c52bb9.js.map