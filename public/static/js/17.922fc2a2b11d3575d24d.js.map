{"version":3,"sources":["webpack:///src/views/SysteManagement/UseManage/index.vue","webpack:///./src/views/SysteManagement/UseManage/index.vue?f941","webpack:///./src/views/SysteManagement/UseManage/index.vue"],"names":["UseManage","components","NavTemplent","TablePage","data","editUserMessage","departmentList","page","pageSize","pageNum","editUse","title","dialogVisible","userList","roleList","total","updateStatusData","menu","uditUser","form","note","departmentId","password","mobile","userName","department_id","email","name","role_id","status","methods","getUserList","_this","this","$post","user_name","then","res","count","list","updateSize","val","updateNum","getDepartmentList","_this2","catch","err","$message","error","getRoleList","_this3","filter","item","editUseMessage","id","updateStatus","_this4","user_id","success","cancle","$emit","save","_this5","role_list","stringify_default","mounted","SysteManagement_UseManage","render","_vm","_h","$createElement","_c","_self","attrs","_v","staticStyle","padding","font-weight","margin-top","label-width","inline","size","nativeOn","submit","$event","preventDefault","label","placeholder","keyup","type","indexOf","_k","keyCode","key","model","value","callback","$$v","$set","expression","on","change","_l","department_name","staticClass","_m","width","float","text-align","click","border","scopedSlots","_u","fn","scope","_s","row","role_name","active-color","inactive-color","_f","created_at","color","update:pageSize","update:pageNum","visible","update:visible","_e","multiple","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/17.922fc2a2b11d3575d24d.js","sourcesContent":["<template>\n  <div>\n    <NavTemplent title=\"用户管理\"></NavTemplent>\n    <div style=\"padding: 15px 10% 15px 15px;\">\n      <div>\n        <h5 style=\"font-weight: bold\">数据筛选</h5>\n        <el-form style=\"margin-top: 15px\" label-width=\"80px\" inline @submit.native.prevent size=\"mini\">\n          <el-form-item label=\"姓名\">\n            <el-input v-model=\"form.userName\" placeholder=\"请输入姓名\" @keyup.enter.native=\"getUserList\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"部门\">\n            <el-select v-model=\"form.departmentId\" placeholder=\"请选择部门\" @change=\"getUserList\">\n              <el-option v-for=\"item in departmentList\" :key=\"item.department_id\" :value=\"item.department_id\" :label=\"item.department_name\"></el-option>\n            </el-select>\n          </el-form-item>\n<!--          <el-form-item style=\"text-align: right\">-->\n<!--            <el-button type=\"primary\" @click=\"getUserList\">-->\n<!--              <i class=\"el-icon-search\"></i>-->\n<!--              筛选</el-button>-->\n<!--          </el-form-item>-->\n        </el-form>\n      </div>\n      <div class=\"tableTitle\">\n        <span style=\"width: 50%;float: left\">\n          <div>用户列表</div>\n        </span>\n        <span style=\"width: 50%;float: right;text-align: right\">\n          <el-button size=\"mini\" type=\"primary\" @click=\"editUseMessage\"><i class=\"el-icon-plus\"></i>添加</el-button>\n        </span>\n      </div>\n      <el-table\n        :data=\"userList\"\n        border\n        style=\"width: 100%\">\n        <el-table-column\n          type=\"index\">\n        </el-table-column>\n        <el-table-column\n          label=\"用户名称\">\n          <template slot-scope=\"scope\">\n            <span>{{scope.row.name || '--'}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"部门\">\n          <template slot-scope=\"scope\">\n            <span>{{scope.row.department_name || '--'}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"角色\">\n          <template slot-scope=\"scope\">\n            <span>{{scope.row.role_name || '--'}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"状态\">\n          <template slot-scope=\"scope\">\n            <el-switch\n              @change=\"updateStatus(scope.row)\"\n              v-model=\"!!scope.row.status\"\n              active-color=\"#13ce66\"\n              inactive-color=\"#ccc\">\n            </el-switch>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"创建时间\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.created_at | dateFormat('YYYY/MM/DD')}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-link @click=\"editUseMessage(scope.row)\" style=\"color:#409EFF\">编辑</el-link>\n          </template>\n        </el-table-column>\n      </el-table>\n      <TablePage :pageSize=\"page.pageNum\" :pageNum=\"page.pageSize\" :total=\"total\" @update:pageSize=\"updateSize\" @update:pageNum=\"updateNum\"></TablePage>\n      <el-dialog\n        :title=\"title\"\n        :visible.sync=\"dialogVisible\"\n        width=\"750px\">\n        <el-form size=\"mini\">\n          <el-form-item label=\"姓名\" v-if=\"!uditUser\">\n            <el-input v-model=\"form.name\" placeholder=\"请输入部门负责人名称\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"手机号\" v-if=\"!uditUser\">\n            <el-input v-model=\"form.mobile\" placeholder=\"请输入手机号\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"密码\" v-if=\"!uditUser\">\n            <el-input type=\"password\" v-model=\"form.password\" placeholder=\"******\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"邮箱\" v-if=\"!uditUser\">\n            <el-input v-model=\"form.email\" placeholder=\"请输入邮箱\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"部门\">\n            <el-input v-model=\"form.note\" placeholder=\"请输入备注部门\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"角色\" v-if=\"uditUser\" >\n            <el-select v-model=\"form.role_id\" placeholder=\"请选择角色\" multiple>\n              <el-option v-for=\"item in roleList\" :key=\"item.role_id\" :label=\"item.role_name\" :value=\"item.role_id\"></el-option>\n            </el-select>\n          </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button size=\"mini\" type=\"danger\" @click=\"cancle\">取 消</el-button>\n          <el-button size=\"mini\" type=\"primary\" @click=\"save\">确 定</el-button>\n        </div>\n      </el-dialog>\n    </div>\n  </div>\n</template>\n<script>\n    import NavTemplent from \"../../../components/NavTemplent\";\n    import TablePage from \"../../../components/TablePage\";\n    export default {\n        components: {\n            NavTemplent,\n            TablePage\n        },\n        data() {\n            return {\n                editUserMessage: null,\n                departmentList: [],\n                page: {\n                    pageSize: 1,\n                    pageNum: 50\n                },\n                editUse: null,\n                title: '用户信息',\n                dialogVisible: false,\n                userList: [],\n                roleList: [],\n                total: 0,\n                updateStatusData: null,\n                menu: false,\n                uditUser: false,\n                form: {\n                    note: '',\n                    departmentId: '',\n                    password: '',\n                    mobile: '',\n                    userName: '',\n                    department_id: '',\n                    email: '',\n                    name: '',\n                    role_id: [],\n                    status: 0\n                }\n            }\n        },\n        methods: {\n            getUserList() {\n                this.$post('/getUserList', {\n                    page: this.page.pageSize,\n                    pageNum: this.page.pageNum,\n                    user_name: this.form.userName,\n                    department_id: this.form.departmentId\n                }).then(res => {\n                    this.total = res.count;\n                    this.userList = res.list\n                })\n            },\n            updateSize(val) {\n                this.page.pageSize = 1;\n                this.page.pageNum = val;\n                this.getUserList();\n            },\n            updateNum(val) {\n                this.page.pageSize = val;\n                this.getUserList();\n            },\n            getDepartmentList() {\n                this.$post('/getDepartmentList').then(res => {\n                    this.departmentList = res.list\n                }).catch(err => {\n                    this.$message.error(err)\n                });\n            },\n            getRoleList() {\n                this.$post('getRoleList').then(res => {\n                    this.roleList = res.list.filter(item => {\n                        return item.status === 1\n                    })\n                })\n            },\n            editUseMessage(data) {\n                this.editUserMessage = data;\n                this.dialogVisible = true;\n                if (data.id) {\n                    this.form = data;\n                    this.menu = true;\n                    this.uditUser = false;\n                }else {\n                    this.form.mobile = '';\n                    this.form.email = '';\n                    this.form.name = '';\n                    this.form.department_id = '';\n                    this.form.role_id = [];\n                    this.menu = false;\n                    this.uditUser = false;\n                }\n            },\n            updateStatus(data) {\n                this.editUserMessage = data;\n                if (data.status === 1) {\n                    this.dialogVisible = true;\n                    this.uditUser = true;\n                } else {\n                    this.$post('editUserStatus', {\n                        user_id: data.id\n                    }).then(res => {\n                        this.getUserList();\n                        this.$message.success('状态修改成功')\n                    })\n                }\n            },\n            cancle() {\n                this.dialogVisible = false;\n                this.$emit('close')\n            },\n            save() {\n                if (this.editUserMessage.id) {\n                    if (this.form.mobile === this.editUserMessage.mobile) {\n                        this.mobile = null\n                    } else {\n                        this.mobile = this.form.mobile\n                    }\n                    if (this.uditUser) {\n                        this.$post('editUser', {\n                            email: this.editUserMessage.email,\n                            user_id: this.editUserMessage.id,\n                            user_name: this.editUserMessage.name,\n                            mobile: null,\n                            department_id: this.form.department_id,\n                            password: this.editUserMessage.password,\n                            role_list: JSON.stringify(this.form.role_id)\n                        }).then(res => {\n                            this.$post('editUserStatus', {\n                                user_id: this.editUserMessage.id\n                            }).then(res => {\n                                this.$message.success('状态修改成功');\n                                this.dialogVisible = false;\n                                this.$emit('close');\n                                this.getUserList()\n                            });\n                        })\n                    } else {\n                        this.$post('editUser', {\n                            email: this.form.email,\n                            user_id: this.editUserMessage.id,\n                            user_name: this.form.name,\n                            mobile: this.mobile,\n                            department_id: this.form.department_id,\n                            password: this.form.password,\n                        }).then(res => {\n                            this.$message.success('用户修改成功');\n                            this.dialogVisible = false;\n                            this.$emit('close');\n                            this.getUserList()\n                        })\n                    }\n                }else {\n                    this.$post('signUp', {\n                      mobile: this.form.mobile,\n                      password: this.form.password,\n                      email: this.form.email,\n                      name: this.form.name,\n                      note: this.form.note\n                    }).then(() => {\n                        this.$message.success('用户新增成功');\n                        this.dialogVisible = false;\n                        this.$emit('close');\n                        this.getUserList()\n                    })\n                }\n            }\n        },\n        mounted() {\n            this.getUserList();\n            this.getDepartmentList();\n            this.getRoleList();\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n  .tableTitle{\n    height: 60px;\n    line-height: 60px;\n    padding: 0 15px;\n    background: #eee;\n    margin-bottom: 15px;\n    div{\n      font-weight: bolder;\n    }\n  }\n  .el-select{\n    width: 100%;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/SysteManagement/UseManage/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('NavTemplent',{attrs:{\"title\":\"用户管理\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"padding\":\"15px 10% 15px 15px\"}},[_c('div',[_c('h5',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"数据筛选\")]),_vm._v(\" \"),_c('el-form',{staticStyle:{\"margin-top\":\"15px\"},attrs:{\"label-width\":\"80px\",\"inline\":\"\",\"size\":\"mini\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"姓名\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入姓名\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getUserList($event)}},model:{value:(_vm.form.userName),callback:function ($$v) {_vm.$set(_vm.form, \"userName\", $$v)},expression:\"form.userName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"部门\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择部门\"},on:{\"change\":_vm.getUserList},model:{value:(_vm.form.departmentId),callback:function ($$v) {_vm.$set(_vm.form, \"departmentId\", $$v)},expression:\"form.departmentId\"}},_vm._l((_vm.departmentList),function(item){return _c('el-option',{key:item.department_id,attrs:{\"value\":item.department_id,\"label\":item.department_name}})}),1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"tableTitle\"},[_vm._m(0),_vm._v(\" \"),_c('span',{staticStyle:{\"width\":\"50%\",\"float\":\"right\",\"text-align\":\"right\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.editUseMessage}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\"添加\")])],1)]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.userList,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"用户名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.name || '--'))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"部门\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.department_name || '--'))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"角色\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.role_name || '--'))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ccc\"},on:{\"change\":function($event){return _vm.updateStatus(scope.row)}},model:{value:(!!scope.row.status),callback:function ($$v) {_vm.$set(!!scope.row, \"status\", $$v)},expression:\"!!scope.row.status\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"创建时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"dateFormat\")(scope.row.created_at,'YYYY/MM/DD')))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-link',{staticStyle:{\"color\":\"#409EFF\"},on:{\"click\":function($event){return _vm.editUseMessage(scope.row)}}},[_vm._v(\"编辑\")])]}}])})],1),_vm._v(\" \"),_c('TablePage',{attrs:{\"pageSize\":_vm.page.pageNum,\"pageNum\":_vm.page.pageSize,\"total\":_vm.total},on:{\"update:pageSize\":_vm.updateSize,\"update:pageNum\":_vm.updateNum}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"width\":\"750px\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{attrs:{\"size\":\"mini\"}},[(!_vm.uditUser)?_c('el-form-item',{attrs:{\"label\":\"姓名\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入部门负责人名称\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1):_vm._e(),_vm._v(\" \"),(!_vm.uditUser)?_c('el-form-item',{attrs:{\"label\":\"手机号\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入手机号\"},model:{value:(_vm.form.mobile),callback:function ($$v) {_vm.$set(_vm.form, \"mobile\", $$v)},expression:\"form.mobile\"}})],1):_vm._e(),_vm._v(\" \"),(!_vm.uditUser)?_c('el-form-item',{attrs:{\"label\":\"密码\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"******\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1):_vm._e(),_vm._v(\" \"),(!_vm.uditUser)?_c('el-form-item',{attrs:{\"label\":\"邮箱\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入邮箱\"},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}})],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"部门\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入备注部门\"},model:{value:(_vm.form.note),callback:function ($$v) {_vm.$set(_vm.form, \"note\", $$v)},expression:\"form.note\"}})],1),_vm._v(\" \"),(_vm.uditUser)?_c('el-form-item',{attrs:{\"label\":\"角色\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择角色\",\"multiple\":\"\"},model:{value:(_vm.form.role_id),callback:function ($$v) {_vm.$set(_vm.form, \"role_id\", $$v)},expression:\"form.role_id\"}},_vm._l((_vm.roleList),function(item){return _c('el-option',{key:item.role_id,attrs:{\"label\":item.role_name,\"value\":item.role_id}})}),1)],1):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":_vm.cancle}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"确 定\")])],1)],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticStyle:{\"width\":\"50%\",\"float\":\"left\"}},[_c('div',[_vm._v(\"用户列表\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-72096d0d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/SysteManagement/UseManage/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-72096d0d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-72096d0d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-72096d0d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/SysteManagement/UseManage/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}